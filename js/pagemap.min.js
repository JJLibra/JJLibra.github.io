/*! pagemap v1.4.0 - https://larsjung.de/pagemap/ */
!function(e, t) {
    "object" == typeof exports && "object" == typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define("pagemap", [], t) : "object" == typeof exports ? exports.pagemap = t() : e.pagemap = t()
}("undefined" != typeof self ? self : this, (function() {
    return n = {},
    e.m = t = [function(e, t, n) {
        var r;
        r = n(1),
        e.exports = function(e, t) {
            function n(e) {
                return "rgba(0,0,0,".concat(e / 100, ")")
            }
            function o(e, t, n, r) {
                return n.split(/\s+/).forEach((function(n) {
                    return e[t](n, r)
                }
                ))
            }
            function i(e, t, n) {
                return o(e, "addEventListener", t, n)
            }
            function c(e, t, n) {
                return o(e, "removeEventListener", t, n)
            }
            function u(e, t, n, r) {
                return {
                    x: e,
                    y: t,
                    w: n,
                    h: r
                }
            }
            function l(e, t) {
                var n = 1 < arguments.length && void 0 !== t ? t : {
                    x: 0,
                    y: 0
                };
                return u(e.x - n.x, e.y - n.y, e.w, e.h)
            }
            function f(e) {
                var t = e.getBoundingClientRect();
                return {
                    x: t.left + j.pageXOffset,
                    y: t.top + j.pageYOffset
                }
            }
            function a(e) {
                var t = f(e);
                return u(t.x + e.clientLeft, t.y + e.clientTop, e.clientWidth, e.clientHeight)
            }
            function s(e, t) {
                t && (E.beginPath(),
                E.rect(e.x, e.y, e.w, e.h),
                E.fillStyle = t,
                E.fill())
            }
            function p() {
                var t, n, r, o;
                v = P ? u((n = f(t = P)).x + t.clientLeft - t.scrollLeft, n.y + t.clientTop - t.scrollTop, t.scrollWidth, t.scrollHeight) : u(0, 0, S.scrollWidth, S.scrollHeight),
                m = P ? a(P) : u(j.pageXOffset, j.pageYOffset, S.clientWidth, S.clientHeight),
                x = L(v.w, v.h),
                o = v.h * x,
                e.width = r = v.w * x,
                e.height = o,
                e.style.width = "".concat(r, "px"),
                e.style.height = "".concat(o, "px"),
                E.setTransform(1, 0, 0, 1, 0, 0),
                E.clearRect(0, 0, e.width, e.height),
                E.scale(x, x),
                s(l(v, v), H.back),
                function(e) {
                    Object.keys(e).forEach((function(t) {
                        var n = e[t];
                        Array.from((P || O).querySelectorAll(t)).forEach((function(e) {
                            var t, r;
                            s(l(u((r = f(t = e)).x, r.y, t.offsetWidth, t.offsetHeight), v), n)
                        }
                        ))
                    }
                    ))
                }(H.styles),
                s(l(m, v), W ? H.drag : H.view)
            }
            function d(t) {
                t.preventDefault();
                var n = a(e)
                  , r = (t.pageX - n.x) / x - m.w * b
                  , o = (t.pageY - n.y) / x - m.h * w;
                P ? (P.scrollLeft = r,
                P.scrollTop = o) : j.scrollTo(r, o),
                p()
            }
            function h(t) {
                W = !1,
                e.style.cursor = "pointer",
                T.style.cursor = "auto",
                c(j, "mousemove", d),
                c(j, "mouseup", h),
                d(t)
            }
            var y, g, v, m, x, b, w, j = r.window, O = j.document, S = O.documentElement, T = O.querySelector("body"), E = e.getContext("2d"), H = Object.assign({
                viewport: null,
                styles: {
                    "header,footer,section,article": n(8),
                    "h1,a": n(10),
                    "h2,h3,h4": n(8)
                },
                back: n(2),
                view: n(5),
                drag: n(10),
                interval: null
            }, t), L = (y = e.clientWidth,
            g = e.clientHeight,
            function(e, t) {
                return Math.min(y / e, g / t)
            }
            ), P = H.viewport, W = !1;
            return e.style.cursor = "pointer",
            i(e, "mousedown", (function(t) {
                W = !0;
                var n = a(e)
                  , r = l(m, v);
                w = ((t.pageY - n.y) / x - r.y) / r.h,
                ((b = ((t.pageX - n.x) / x - r.x) / r.w) < 0 || 1 < b || w < 0 || 1 < w) && (w = b = .5),
                e.style.cursor = "crosshair",
                T.style.cursor = "crosshair",
                i(j, "mousemove", d),
                i(j, "mouseup", h),
                d(t)
            }
            )),
            i(P || j, "load resize scroll", p),
            0 < H.interval && setInterval((function() {
                return p()
            }
            ), H.interval),
            p(),
            {
                redraw: p
            }
        }
    }
    , function(e, t) {
        var n;
        n = function() {
            return this
        }();
        try {
            n = n || Function("return this")()
        } catch (e) {
            "object" == typeof window && (n = window)
        }
        e.exports = n
    }
    ],
    e.c = n,
    e.d = function(t, n, r) {
        e.o(t, n) || Object.defineProperty(t, n, {
            enumerable: !0,
            get: r
        })
    }
    ,
    e.r = function(e) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
        }),
        Object.defineProperty(e, "__esModule", {
            value: !0
        })
    }
    ,
    e.t = function(t, n) {
        if (1 & n && (t = e(t)),
        8 & n)
            return t;
        if (4 & n && "object" == typeof t && t && t.__esModule)
            return t;
        var r = Object.create(null);
        if (e.r(r),
        Object.defineProperty(r, "default", {
            enumerable: !0,
            value: t
        }),
        2 & n && "string" != typeof t)
            for (var o in t)
                e.d(r, o, function(e) {
                    return t[e]
                }
                .bind(null, o));
        return r
    }
    ,
    e.n = function(t) {
        var n = t && t.__esModule ? function() {
            return t.default
        }
        : function() {
            return t
        }
        ;
        return e.d(n, "a", n),
        n
    }
    ,
    e.o = function(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }
    ,
    e.p = "",
    e(e.s = 0);
    function e(r) {
        if (n[r])
            return n[r].exports;
        var o = n[r] = {
            i: r,
            l: !1,
            exports: {}
        };
        return t[r].call(o.exports, o, o.exports, e),
        o.l = !0,
        o.exports
    }
    var t, n
}
));
